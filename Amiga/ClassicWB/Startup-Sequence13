;Install ClassicWB
;-----------------
;LITE

resident SYS:C/cls PURE

LAB START
cls
SKIP FAIL

SYS:T/DF0/
SYS:T/DF0/C/Assign >NIL: T: RAM:

  echo ""
  echo ""
  echo "Disk appears to be Workbench 3.0 release."
  echo ""
  
  echo "CORRECT!"


stack 16384
failat 21
SYS:T/DF0/C/AddBuffers >NIL: SYS:T/DF0/ 200
resident SYS:T/DF0/C/Copy PURE
resident SYS:T/DF0/C/Delete PURE
resident SYS:T/DF0/C/Execute PURE
resident SYS:T/DF0/C/Wait PURE

echo ""
echo "Valid Workbench disk found!"


cls

echo ""
echo "Installing ClassicWB..."
wait 2

cls

echo ""
echo "Activating system using Workbench disk, please wait..."
wait 2

execute SYS:S/Activate
cd SYS:
delete >NIL: SYS:S/Activate

IF EXISTS SYS:C/LoadWB.temp
  copy SYS:T/DF0/C/LoadWB SYS:C/LoadWB.orig CLONE
ELSE
  copy SYS:T/DF0/C/LoadWB SYS:C/LoadWB CLONE
ENDIF

copy SYS:T/Science SYS:S CLONE
delete >NIL: SYS:T/Science
delete >NIL: SYS:S/startup-sequence
rename SYS:S/Science SYS:S/Startup-Sequence

IF EXISTS SYS:C/LoadWB.temp
  rename SYS:C/LoadWB.temp SYS:C/LoadWB
ENDIF

delete >NIL: SYS:S/Workbench3.1
delete >NIL: SYS:S/Extras3.1
delete >NIL: SYS:S/Install3.1
delete >NIL: SYS:S/Storage3.1
delete >NIL: SYS:S/Locale3.1

IF EXISTS SYS:T/z
  delete >NIL: SYS:T/z
EndIF
IF EXISTS SYS:T/zz
  delete >NIL: SYS:T/zz
EndIF

copy SYS:System/IconLib/S/Startup-Sequence30 SYS:System/IconLib/S/Startup-Sequence CLONE


  cd SYS:
  C:MakeDir RAM:T RAM:Clipboards RAM:ENV RAM:ENV/Sys
  copy >NIL: ENVARC: RAM:ENV ALL NOREQ
  C:Assign >NIL: ENV: RAM:ENV
  C:Protect FONTS:#? +RWED ALL QUIET
  SYS:System/FixFonts


  cls
  echo ""
  echo "Installing..."
  echo ""
  wait 4
  delete >NIL: SYS:Icons ALL
  unzip >NIL: -o Temp/WB13.zip -d SYS:
  echo ""
  echo "Workbench 1.3 support installed."
  echo ""
  delete >NIL: SYS:Temp/palette.zip
  wait 2



  cls
  echo ""
  echo "Installing..."
  echo ""

  unzip >NIL: -o SYS:Temp/oldicons.zip -d SYS:
  echo ""
  echo "OldIcon support installed."
  echo ""
  delete >NIL: SYS:Temp/oldicons.zip
  delete >NIL: SYS:Temp/oldiconsd.zip
  delete >NIL: SYS:Temp/Copper_enable
  delete >NIL: SYS:Temp/StackAttack_enable
  delete >NIL: SYS:Temp/AntiClick_disable
  delete >NIL: SYS:Temp/FreeWheel_disable
  delete >NIL: SYS:Temp/SmartWin_enable
  ask "Press RETURN to continue."

cls
echo "KickPI-OS ROM Operating System and Libraries" 
echo " Version V2.0 2020-2021 KickPi-OS "
echo ""
echo "ClassicWB by Bloodwych from the EAB"
echo "https://classicwb.abime.net"
echo ""
echo "Installation Complete!"
echo ""
echo "Check the website documentation for details of the"
echo "multiboot and multi-partition features, large HD >4GB"
echo "support and how to add WHDLoad games."
echo ""
echo "The MyFiles/Install drawer contains many useful addons"
echo "including PeterKs PNG OS35+ Icon Support, SFS, Network"
echo "CDROM drivers and more."
echo ""
echo "Also check out the Settings->Components menu to access"
echo "more options like ENV Handler, BlazeWPC, IconBeFast,"
echo "TinyMeter, TagLiFE, PatchRAM and StickyRMB."
echo ""
echo ""
ask "Please Press F12 and Reset."
SKIP FINISH BACK


